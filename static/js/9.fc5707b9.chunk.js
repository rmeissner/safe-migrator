(this["webpackJsonpsafe-migrator"]=this["webpackJsonpsafe-migrator"]||[]).push([[9],{1125:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessLists=void 0;var i=r(482),n=r(598),o=function(){function t(){}return t.getAccessListData=function(t){var e,r;if(t&&(0,n.isAccessList)(t)){e=t;for(var o=[],a=0;a<t.length;a++){for(var s=t[a],c=(0,i.toBuffer)(s.address),h=[],u=0;u<s.storageKeys.length;u++)h.push((0,i.toBuffer)(s.storageKeys[u]));o.push([c,h])}r=o}else{r=null!==t&&void 0!==t?t:[];var d=[];for(a=0;a<r.length;a++){var f=r[a],l=(0,i.bufferToHex)(f[0]),v=[];for(s=0;s<f[1].length;s++)v.push((0,i.bufferToHex)(f[1][s]));var p={address:l,storageKeys:v};d.push(p)}e=d}return{AccessListJSON:e,accessList:r}},t.verifyAccessList=function(t){for(var e=0;e<t.length;e++){var r=t[e],i=r[0],n=r[1];if(void 0!==r[2])throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(20!=i.length)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(var o=0;o<n.length;o++)if(32!=n[o].length)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},t.getAccessListJSON=function(t){for(var e=[],r=0;r<t.length;r++){for(var n=t[r],o={address:"0x"+(0,i.setLengthLeft)(n[0],20).toString("hex"),storageKeys:[]},a=n[1],s=0;s<a.length;s++){var c=a[s];o.storageKeys.push("0x"+(0,i.setLengthLeft)(c,32).toString("hex"))}e.push(o)}return e},t.getDataFeeEIP2930=function(t,e){for(var r=e.param("gasPrices","accessListStorageKeyCost"),i=e.param("gasPrices","accessListAddressCost"),n=0,o=0;o<t.length;o++){n+=t[o][1].length}return t.length*i+n*r},t}();e.AccessLists=o},1707:function(t,e,r){"use strict";(function(t){var i=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var a=r(482),s=r(598),c=r(872),h=function(e){function r(t,r){var i;void 0===r&&(r={});var o=e.call(this,n(n({},t),{type:0}))||this;if(o.common=o._validateTxV(o.v,r.common),o.gasPrice=new a.BN((0,a.toBuffer)(""===t.gasPrice?"0x":t.gasPrice)),o._validateCannotExceedMaxInteger({gasPrice:o.gasPrice}),o.common.gteHardfork("spuriousDragon"))if(o.isSigned()){var c=o.v,h=o.common.chainIdBN().muln(2);(c.eq(h.addn(35))||c.eq(h.addn(36)))&&o.activeCapabilities.push(s.Capability.EIP155ReplayProtection)}else o.activeCapabilities.push(s.Capability.EIP155ReplayProtection);return(null===(i=null===r||void 0===r?void 0:r.freeze)||void 0===i||i)&&Object.freeze(o),o}return i(r,e),r.fromTxData=function(t,e){return void 0===e&&(e={}),new r(t,e)},r.fromSerializedTx=function(t,e){void 0===e&&(e={});var r=a.rlp.decode(t);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,e)},r.fromRlpSerializedTx=function(t,e){return void 0===e&&(e={}),r.fromSerializedTx(t,e)},r.fromValuesArray=function(t,e){if(void 0===e&&(e={}),6!==t.length&&9!==t.length)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");var i=o(t,9);return new r({nonce:i[0],gasPrice:i[1],gasLimit:i[2],to:i[3],value:i[4],data:i[5],v:i[6],r:i[7],s:i[8]},e)},r.prototype.raw=function(){return[(0,a.bnToUnpaddedBuffer)(this.nonce),(0,a.bnToUnpaddedBuffer)(this.gasPrice),(0,a.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:t.from([]),(0,a.bnToUnpaddedBuffer)(this.value),this.data,void 0!==this.v?(0,a.bnToUnpaddedBuffer)(this.v):t.from([]),void 0!==this.r?(0,a.bnToUnpaddedBuffer)(this.r):t.from([]),void 0!==this.s?(0,a.bnToUnpaddedBuffer)(this.s):t.from([])]},r.prototype.serialize=function(){return a.rlp.encode(this.raw())},r.prototype._getMessageToSign=function(){var e=[(0,a.bnToUnpaddedBuffer)(this.nonce),(0,a.bnToUnpaddedBuffer)(this.gasPrice),(0,a.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:t.from([]),(0,a.bnToUnpaddedBuffer)(this.value),this.data];return this.supports(s.Capability.EIP155ReplayProtection)&&(e.push((0,a.toBuffer)(this.common.chainIdBN())),e.push((0,a.unpadBuffer)((0,a.toBuffer)(0))),e.push((0,a.unpadBuffer)((0,a.toBuffer)(0)))),e},r.prototype.getMessageToSign=function(t){void 0===t&&(t=!0);var e=this._getMessageToSign();return t?(0,a.rlphash)(e):e},r.prototype.getDataFee=function(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:e.prototype.getDataFee.call(this),hardfork:this.common.hardfork()}),e.prototype.getDataFee.call(this))},r.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},r.prototype.hash=function(){return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,a.rlphash)(this.raw())),this.cache.hash):(0,a.rlphash)(this.raw())},r.prototype.getMessageToVerifySignature=function(){if(!this.isSigned()){var t=this._errorMsg("This transaction is not signed");throw new Error(t)}var e=this._getMessageToSign();return(0,a.rlphash)(e)},r.prototype.getSenderPublicKey=function(){var t,e=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(t=this.s)||void 0===t?void 0:t.gt(s.N_DIV_2))){var r=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(r)}var i=this,n=i.v,o=i.r,c=i.s;try{return(0,a.ecrecover)(e,n,(0,a.bnToUnpaddedBuffer)(o),(0,a.bnToUnpaddedBuffer)(c),this.supports(s.Capability.EIP155ReplayProtection)?this.common.chainIdBN():void 0)}catch(h){r=this._errorMsg("Invalid Signature");throw new Error(r)}},r.prototype._processSignature=function(t,e,i){var n=new a.BN(t);this.supports(s.Capability.EIP155ReplayProtection)&&n.iadd(this.common.chainIdBN().muln(2).addn(8));var o={common:this.common};return r.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:n,r:new a.BN(e),s:new a.BN(i)},o)},r.prototype.toJSON=function(){return{nonce:(0,a.bnToHex)(this.nonce),gasPrice:(0,a.bnToHex)(this.gasPrice),gasLimit:(0,a.bnToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,a.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),v:void 0!==this.v?(0,a.bnToHex)(this.v):void 0,r:void 0!==this.r?(0,a.bnToHex)(this.r):void 0,s:void 0!==this.s?(0,a.bnToHex)(this.s):void 0}},r.prototype._validateTxV=function(t,e){var r;if(void 0!==t&&!t.eqn(0)&&(!e||e.gteHardfork("spuriousDragon"))&&!t.eqn(27)&&!t.eqn(28))if(e){var i=e.chainIdBN().muln(2);if(!(t.eq(i.addn(35))||t.eq(i.addn(36))))throw new Error("Incompatible EIP155-based V "+t+" and chain id "+e.chainIdBN()+". See the Common parameter of the Transaction constructor to set the chain id.")}else{var n=void 0;n=t.subn(35).isEven()?35:36,r=t.subn(n).divn(2)}return this._getCommon(e,r)},r.prototype._unsignedTxImplementsEIP155=function(){return this.common.gteHardfork("spuriousDragon")},r.prototype._signedTxImplementsEIP155=function(){if(!this.isSigned()){var t=this._errorMsg("This transaction is not signed");throw new Error(t)}var e=this.common.gteHardfork("spuriousDragon"),r=this.v,i=this.common.chainIdBN().muln(2);return(r.eq(i.addn(35))||r.eq(i.addn(36)))&&e},r.prototype.errorStr=function(){var t=this._getSharedErrorPostfix();return t+=" gasPrice="+this.gasPrice},r.prototype._errorMsg=function(t){return t+" ("+this.errorStr()+")"},r}(c.BaseTransaction);e.default=h}).call(this,r(30).Buffer)},1708:function(t,e,r){"use strict";(function(t){var i=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var a=r(482),s=r(872),c=r(598),h=r(1125),u=t.from(1..toString(16).padStart(2,"0"),"hex"),d=function(e){function r(t,r){var i,o;void 0===r&&(r={});var s=e.call(this,n(n({},t),{type:1}))||this;s.DEFAULT_HARDFORK="berlin";var u=t.chainId,d=t.accessList,f=t.gasPrice;if(s.common=s._getCommon(r.common,u),s.chainId=s.common.chainIdBN(),!s.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");s.activeCapabilities=s.activeCapabilities.concat([2718,2930]);var l=h.AccessLists.getAccessListData(null!==d&&void 0!==d?d:[]);if(s.accessList=l.accessList,s.AccessListJSON=l.AccessListJSON,h.AccessLists.verifyAccessList(s.accessList),s.gasPrice=new a.BN((0,a.toBuffer)(""===f?"0x":f)),s._validateCannotExceedMaxInteger({gasPrice:s.gasPrice}),s.v&&!s.v.eqn(0)&&!s.v.eqn(1)){var v=s._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(v)}if(s.common.gteHardfork("homestead")&&(null===(i=s.s)||void 0===i?void 0:i.gt(c.N_DIV_2))){v=s._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(v)}return(null===(o=null===r||void 0===r?void 0:r.freeze)||void 0===o||o)&&Object.freeze(s),s}return i(r,e),Object.defineProperty(r.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),r.fromTxData=function(t,e){return void 0===e&&(e={}),new r(t,e)},r.fromSerializedTx=function(t,e){if(void 0===e&&(e={}),!t.slice(0,1).equals(u))throw new Error("Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: 1, received: "+t.slice(0,1).toString("hex"));var i=a.rlp.decode(t.slice(1));if(!Array.isArray(i))throw new Error("Invalid serialized tx input: must be array");return r.fromValuesArray(i,e)},r.fromRlpSerializedTx=function(t,e){return void 0===e&&(e={}),r.fromSerializedTx(t,e)},r.fromValuesArray=function(t,e){if(void 0===e&&(e={}),8!==t.length&&11!==t.length)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");var i=o(t,11),n=i[0],s=i[1],c=i[2],h=i[3],u=i[4],d=i[5],f=i[6],l=i[7],v=i[8],p=i[9],g=i[10];return new r({chainId:new a.BN(n),nonce:s,gasPrice:c,gasLimit:h,to:u,value:d,data:f,accessList:null!==l&&void 0!==l?l:[],v:void 0!==v?new a.BN(v):void 0,r:p,s:g},e)},r.prototype.getDataFee=function(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;var t=e.prototype.getDataFee.call(this);return t.iaddn(h.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:t,hardfork:this.common.hardfork()}),t},r.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},r.prototype.raw=function(){return[(0,a.bnToUnpaddedBuffer)(this.chainId),(0,a.bnToUnpaddedBuffer)(this.nonce),(0,a.bnToUnpaddedBuffer)(this.gasPrice),(0,a.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:t.from([]),(0,a.bnToUnpaddedBuffer)(this.value),this.data,this.accessList,void 0!==this.v?(0,a.bnToUnpaddedBuffer)(this.v):t.from([]),void 0!==this.r?(0,a.bnToUnpaddedBuffer)(this.r):t.from([]),void 0!==this.s?(0,a.bnToUnpaddedBuffer)(this.s):t.from([])]},r.prototype.serialize=function(){var e=this.raw();return t.concat([u,a.rlp.encode(e)])},r.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var r=this.raw().slice(0,8),i=t.concat([u,a.rlp.encode(r)]);return e?(0,a.keccak256)(i):i},r.prototype.hash=function(){if(!this.isSigned()){var t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,a.keccak256)(this.serialize())),this.cache.hash):(0,a.keccak256)(this.serialize())},r.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},r.prototype.getSenderPublicKey=function(){var t;if(!this.isSigned()){var e=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(e)}var r=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(t=this.s)||void 0===t?void 0:t.gt(c.N_DIV_2))){e=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(e)}var i=this,n=i.yParity,o=i.r,s=i.s;try{return(0,a.ecrecover)(r,n.addn(27),(0,a.bnToUnpaddedBuffer)(o),(0,a.bnToUnpaddedBuffer)(s))}catch(h){e=this._errorMsg("Invalid Signature");throw new Error(e)}},r.prototype._processSignature=function(t,e,i){var n={common:this.common};return r.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new a.BN(t-27),r:new a.BN(e),s:new a.BN(i)},n)},r.prototype.toJSON=function(){var t=h.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,a.bnToHex)(this.chainId),nonce:(0,a.bnToHex)(this.nonce),gasPrice:(0,a.bnToHex)(this.gasPrice),gasLimit:(0,a.bnToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,a.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:t,v:void 0!==this.v?(0,a.bnToHex)(this.v):void 0,r:void 0!==this.r?(0,a.bnToHex)(this.r):void 0,s:void 0!==this.s?(0,a.bnToHex)(this.s):void 0}},r.prototype.errorStr=function(){var t,e,r=this._getSharedErrorPostfix();return r+=" gasPrice="+this.gasPrice+" accessListCount="+(null!==(e=null===(t=this.accessList)||void 0===t?void 0:t.length)&&void 0!==e?e:0)},r.prototype._errorMsg=function(t){return t+" ("+this.errorStr()+")"},r}(s.BaseTransaction);e.default=d}).call(this,r(30).Buffer)},1709:function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=r(482),n=r(648),o=function(){function e(){}return e.fromTxData=function(t,e){if(void 0===e&&(e={}),"type"in t&&void 0!==t.type){var r=new i.BN((0,i.toBuffer)(t.type)).toNumber();if(0===r)return n.Transaction.fromTxData(t,e);if(1===r)return n.AccessListEIP2930Transaction.fromTxData(t,e);if(2===r)return n.FeeMarketEIP1559Transaction.fromTxData(t,e);throw new Error("Tx instantiation with type "+r+" not supported")}return n.Transaction.fromTxData(t,e)},e.fromSerializedData=function(t,e){if(void 0===e&&(e={}),t[0]<=127){var r=void 0;switch(t[0]){case 1:r=2930;break;case 2:r=1559;break;default:throw new Error("TypedTransaction with ID "+t[0]+" unknown")}return 1559===r?n.FeeMarketEIP1559Transaction.fromSerializedTx(t,e):n.AccessListEIP2930Transaction.fromSerializedTx(t,e)}return n.Transaction.fromSerializedTx(t,e)},e.fromBlockBodyData=function(e,r){if(void 0===r&&(r={}),t.isBuffer(e))return this.fromSerializedData(e,r);if(Array.isArray(e))return n.Transaction.fromValuesArray(e,r);throw new Error("Cannot decode transaction: unknown type input")},e.getTransactionClass=function(t,e){if(void 0===t&&(t=0),0==t||t>=128&&t<=255)return n.Transaction;switch(t){case 1:return n.AccessListEIP2930Transaction;case 2:return n.FeeMarketEIP1559Transaction;default:throw new Error("TypedTransaction with ID "+t+" unknown")}},e}();e.default=o}).call(this,r(30).Buffer)},1710:function(t,e,r){"use strict";(function(t){var i=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var a=r(482),s=r(872),c=r(598),h=r(1125),u=t.from(2..toString(16).padStart(2,"0"),"hex"),d=function(e){function r(t,r){var i,o;void 0===r&&(r={});var s=e.call(this,n(n({},t),{type:2}))||this;s.DEFAULT_HARDFORK="london";var u=t.chainId,d=t.accessList,f=t.maxFeePerGas,l=t.maxPriorityFeePerGas;if(s.common=s._getCommon(r.common,u),s.chainId=s.common.chainIdBN(),!s.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");s.activeCapabilities=s.activeCapabilities.concat([1559,2718,2930]);var v=h.AccessLists.getAccessListData(null!==d&&void 0!==d?d:[]);if(s.accessList=v.accessList,s.AccessListJSON=v.AccessListJSON,h.AccessLists.verifyAccessList(s.accessList),s.maxFeePerGas=new a.BN((0,a.toBuffer)(""===f?"0x":f)),s.maxPriorityFeePerGas=new a.BN((0,a.toBuffer)(""===l?"0x":l)),s._validateCannotExceedMaxInteger({maxFeePerGas:s.maxFeePerGas,maxPriorityFeePerGas:s.maxPriorityFeePerGas},256),s.maxFeePerGas.lt(s.maxPriorityFeePerGas)){var p=s._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(p)}if(s.v&&!s.v.eqn(0)&&!s.v.eqn(1)){p=s._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(p)}if(s.common.gteHardfork("homestead")&&(null===(i=s.s)||void 0===i?void 0:i.gt(c.N_DIV_2))){p=s._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(p)}return(null===(o=null===r||void 0===r?void 0:r.freeze)||void 0===o||o)&&Object.freeze(s),s}return i(r,e),Object.defineProperty(r.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),r.fromTxData=function(t,e){return void 0===e&&(e={}),new r(t,e)},r.fromSerializedTx=function(t,e){if(void 0===e&&(e={}),!t.slice(0,1).equals(u))throw new Error("Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: 2, received: "+t.slice(0,1).toString("hex"));var i=a.rlp.decode(t.slice(1));if(!Array.isArray(i))throw new Error("Invalid serialized tx input: must be array");return r.fromValuesArray(i,e)},r.fromRlpSerializedTx=function(t,e){return void 0===e&&(e={}),r.fromSerializedTx(t,e)},r.fromValuesArray=function(t,e){if(void 0===e&&(e={}),9!==t.length&&12!==t.length)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");var i=o(t,12),n=i[0],s=i[1],c=i[2],h=i[3],u=i[4],d=i[5],f=i[6],l=i[7],v=i[8],p=i[9],g=i[10],y=i[11];return new r({chainId:new a.BN(n),nonce:s,maxPriorityFeePerGas:c,maxFeePerGas:h,gasLimit:u,to:d,value:f,data:l,accessList:null!==v&&void 0!==v?v:[],v:void 0!==p?new a.BN(p):void 0,r:g,s:y},e)},r.prototype.getDataFee=function(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;var t=e.prototype.getDataFee.call(this);return t.iaddn(h.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:t,hardfork:this.common.hardfork()}),t},r.prototype.getUpfrontCost=function(t){void 0===t&&(t=new a.BN(0));var e=a.BN.min(this.maxPriorityFeePerGas,this.maxFeePerGas.sub(t)).add(t);return this.gasLimit.mul(e).add(this.value)},r.prototype.raw=function(){return[(0,a.bnToUnpaddedBuffer)(this.chainId),(0,a.bnToUnpaddedBuffer)(this.nonce),(0,a.bnToUnpaddedBuffer)(this.maxPriorityFeePerGas),(0,a.bnToUnpaddedBuffer)(this.maxFeePerGas),(0,a.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:t.from([]),(0,a.bnToUnpaddedBuffer)(this.value),this.data,this.accessList,void 0!==this.v?(0,a.bnToUnpaddedBuffer)(this.v):t.from([]),void 0!==this.r?(0,a.bnToUnpaddedBuffer)(this.r):t.from([]),void 0!==this.s?(0,a.bnToUnpaddedBuffer)(this.s):t.from([])]},r.prototype.serialize=function(){var e=this.raw();return t.concat([u,a.rlp.encode(e)])},r.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var r=this.raw().slice(0,9),i=t.concat([u,a.rlp.encode(r)]);return e?(0,a.keccak256)(i):i},r.prototype.hash=function(){if(!this.isSigned()){var t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,a.keccak256)(this.serialize())),this.cache.hash):(0,a.keccak256)(this.serialize())},r.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},r.prototype.getSenderPublicKey=function(){var t;if(!this.isSigned()){var e=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(e)}var r=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(t=this.s)||void 0===t?void 0:t.gt(c.N_DIV_2))){e=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(e)}var i=this,n=i.v,o=i.r,s=i.s;try{return(0,a.ecrecover)(r,n.addn(27),(0,a.bnToUnpaddedBuffer)(o),(0,a.bnToUnpaddedBuffer)(s))}catch(h){e=this._errorMsg("Invalid Signature");throw new Error(e)}},r.prototype._processSignature=function(t,e,i){var n={common:this.common};return r.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new a.BN(t-27),r:new a.BN(e),s:new a.BN(i)},n)},r.prototype.toJSON=function(){var t=h.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,a.bnToHex)(this.chainId),nonce:(0,a.bnToHex)(this.nonce),maxPriorityFeePerGas:(0,a.bnToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,a.bnToHex)(this.maxFeePerGas),gasLimit:(0,a.bnToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,a.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:t,v:void 0!==this.v?(0,a.bnToHex)(this.v):void 0,r:void 0!==this.r?(0,a.bnToHex)(this.r):void 0,s:void 0!==this.s?(0,a.bnToHex)(this.s):void 0}},r.prototype.errorStr=function(){var t=this._getSharedErrorPostfix();return t+=" maxFeePerGas="+this.maxFeePerGas+" maxPriorityFeePerGas="+this.maxPriorityFeePerGas},r.prototype._errorMsg=function(t){return t+" ("+this.errorStr()+")"},r}(s.BaseTransaction);e.default=d}).call(this,r(30).Buffer)},598:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.N_DIV_2=e.isAccessList=e.isAccessListBuffer=e.Capability=void 0;var i=r(482);function n(t){if(0===t.length)return!0;var e=t[0];return!!Array.isArray(e)}!function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"}(e.Capability||(e.Capability={})),e.isAccessListBuffer=n,e.isAccessList=function(t){return!n(t)},e.N_DIV_2=new i.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16)},648:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FeeMarketEIP1559Transaction=e.TransactionFactory=e.AccessListEIP2930Transaction=e.Transaction=void 0;var a=r(1707);Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return o(a).default}});var s=r(1708);Object.defineProperty(e,"AccessListEIP2930Transaction",{enumerable:!0,get:function(){return o(s).default}});var c=r(1709);Object.defineProperty(e,"TransactionFactory",{enumerable:!0,get:function(){return o(c).default}});var h=r(1710);Object.defineProperty(e,"FeeMarketEIP1559Transaction",{enumerable:!0,get:function(){return o(h).default}}),n(r(598),e)},872:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},a=this&&this.__values||function(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseTransaction=void 0;var c=o(r(541)),h=r(482),u=r(598),d=function(){function t(t){this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=c.Chain.Mainnet,this.DEFAULT_HARDFORK=c.Hardfork.Istanbul;var e=t.nonce,r=t.gasLimit,i=t.to,n=t.value,o=t.data,a=t.v,s=t.r,u=t.s,d=t.type;this._type=new h.BN((0,h.toBuffer)(d)).toNumber();var f=(0,h.toBuffer)(""===i?"0x":i),l=(0,h.toBuffer)(""===a?"0x":a),v=(0,h.toBuffer)(""===s?"0x":s),p=(0,h.toBuffer)(""===u?"0x":u);this.nonce=new h.BN((0,h.toBuffer)(""===e?"0x":e)),this.gasLimit=new h.BN((0,h.toBuffer)(""===r?"0x":r)),this.to=f.length>0?new h.Address(f):void 0,this.value=new h.BN((0,h.toBuffer)(""===n?"0x":n)),this.data=(0,h.toBuffer)(""===o?"0x":o),this.v=l.length>0?new h.BN(l):void 0,this.r=v.length>0?new h.BN(v):void 0,this.s=p.length>0?new h.BN(p):void 0,this._validateCannotExceedMaxInteger({nonce:this.nonce,gasLimit:this.gasLimit,value:this.value,r:this.r,s:this.s})}return Object.defineProperty(t.prototype,"transactionType",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),t.prototype.supports=function(t){return this.activeCapabilities.includes(t)},t.prototype.validate=function(t){void 0===t&&(t=!1);var e=[];return this.getBaseFee().gt(this.gasLimit)&&e.push("gasLimit is too low. given "+this.gasLimit+", need at least "+this.getBaseFee()),this.isSigned()&&!this.verifySignature()&&e.push("Invalid Signature"),t?e:0===e.length},t.prototype.getBaseFee=function(){var t=this.getDataFee().addn(this.common.param("gasPrices","tx"));return this.common.gteHardfork("homestead")&&this.toCreationAddress()&&t.iaddn(this.common.param("gasPrices","txCreation")),t},t.prototype.getDataFee=function(){for(var t=this.common.param("gasPrices","txDataZero"),e=this.common.param("gasPrices","txDataNonZero"),r=0,i=0;i<this.data.length;i++)0===this.data[i]?r+=t:r+=e;return new h.BN(r)},t.prototype.toCreationAddress=function(){return void 0===this.to||0===this.to.buf.length},t.prototype.isSigned=function(){var t=this,e=t.v,r=t.r,i=t.s;return 0===this.type?!!(e&&r&&i):!(void 0===e||!r||!i)},t.prototype.verifySignature=function(){try{var t=this.getSenderPublicKey();return 0!==(0,h.unpadBuffer)(t).length}catch(e){return!1}},t.prototype.getSenderAddress=function(){return new h.Address((0,h.publicToAddress)(this.getSenderPublicKey()))},t.prototype.sign=function(t){if(32!==t.length){var e=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(e)}var r=!1;0===this.type&&this.common.gteHardfork("spuriousDragon")&&!this.supports(u.Capability.EIP155ReplayProtection)&&(this.activeCapabilities.push(u.Capability.EIP155ReplayProtection),r=!0);var i=this.getMessageToSign(!0),n=(0,h.ecsign)(i,t),o=n.v,a=n.r,s=n.s,c=this._processSignature(o,a,s);if(r){var d=this.activeCapabilities.indexOf(u.Capability.EIP155ReplayProtection);d>-1&&this.activeCapabilities.splice(d,1)}return c},t.prototype._getCommon=function(t,e){var r;if(e){var i=new h.BN((0,h.toBuffer)(e));if(t){if(!t.chainIdBN().eq(i)){var n=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(n)}return t.copy()}return c.default.isSupportedChainId(i)?new c.default({chain:i,hardfork:this.DEFAULT_HARDFORK}):c.default.forCustomChain(this.DEFAULT_CHAIN,{name:"custom-chain",networkId:i,chainId:i},this.DEFAULT_HARDFORK)}return null!==(r=null===t||void 0===t?void 0:t.copy())&&void 0!==r?r:new c.default({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})},t.prototype._validateCannotExceedMaxInteger=function(t,e){var r,i;void 0===e&&(e=53);try{for(var n=a(Object.entries(t)),o=n.next();!o.done;o=n.next()){var c=s(o.value,2),u=c[0],d=c[1];if(53===e){if(null===d||void 0===d?void 0:d.gt(h.MAX_INTEGER)){var f=this._errorMsg(u+" cannot exceed MAX_INTEGER, given "+d);throw new Error(f)}}else{if(256!==e){f=this._errorMsg("unimplemented bits value");throw new Error(f)}if(null===d||void 0===d?void 0:d.gte(h.TWO_POW256)){var f=this._errorMsg(u+" must be less than 2^256, given "+d);throw new Error(f)}}}}catch(l){r={error:l}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}},t.prototype._getSharedErrorPostfix=function(){var t="";try{t=this.isSigned()?(0,h.bufferToHex)(this.hash()):"not available (unsigned)"}catch(n){t="error"}var e="";try{e=this.isSigned().toString()}catch(n){t="error"}var r="";try{r=this.common.hardfork()}catch(n){r="error"}var i="tx type="+this.type+" hash="+t+" nonce="+this.nonce+" value="+this.value+" ";return i+="signed="+e+" hf="+r},t}();e.BaseTransaction=d}}]);
//# sourceMappingURL=9.fc5707b9.chunk.js.map