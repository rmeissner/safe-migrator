(this["webpackJsonpsafe-migrator"]=this["webpackJsonpsafe-migrator"]||[]).push([[46],{1806:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return _}));var r=n(2),o=n.n(r),a=n(45),i=n(6),s=n(7),u=n(15),c=n(9),d=n(10),p=n(1807),l=n(1810),f=n(1811),g=n(605);function h(e,t,n){var r=new g.b(t,n);return r.originalError=e,r}var E=function(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};function v(t,n,r,o){var a=function(t,n){for(var r=e.alloc(t.length),o=0;o<t.length;o++)r[o]=t[o]^n[o%n.length];return r}(t,r),i=e.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),s={version:"U2F_V2",keyHandle:E(a.toString("base64")),challenge:E(i.toString("base64")),appId:location.origin};return Object(f.a)("apdu","=> "+t.toString("hex")),Object(p.sign)(s,n/1e3).then((function(t){var n,r=t.signatureData;if("string"===typeof r){var a,i=e.from((n=r).replace(/-/g,"+").replace(/_/g,"/")+"==".substring(0,3*n.length%4),"base64");return a=o?i.slice(5):i,Object(f.a)("apdu","<= "+a.toString("hex")),a}throw t}))}var m=[];var _=function(t){Object(c.a)(r,t);var n=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=n.call(this)).scrambleKey=void 0,e.unwrap=!0,m.push(Object(u.a)(e)),e}return Object(s.a)(r,[{key:"exchange",value:function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(t,this.exchangeTimeout,this.scrambleKey,this.unwrap);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!("object"===typeof e.t0.metaData)){e.next=14;break}throw 5===e.t0.metaData.code&&(m.forEach((function(e){return e.emit("disconnect")})),m=[]),h(e.t0,"Failed to sign with Ledger device: U2F "+e.t0.metaData.type,"U2F_"+e.t0.metaData.code);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setScrambleKey",value:function(t){this.scrambleKey=e.from(t,"ascii")}},{key:"setUnwrap",value:function(e){this.unwrap=e}},{key:"close",value:function(){return Promise.resolve()}}],[{key:"open",value:function(){var e=Object(a.a)(o.a.mark((function e(t){var n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:5e3,e.abrupt("return",new r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(l.a);_.isSupported=p.isSupported,_.list=function(){return Object(p.isSupported)().then((function(e){return e?[null]:[]}))},_.listen=function(e){var t=!1;return Object(p.isSupported)().then((function(n){t||(n?(e.next({type:"add",descriptor:null}),e.complete()):e.error(new g.b("U2F browser support is needed for Ledger. Please use Chrome, Opera or Firefox with a U2F extension. Also make sure you're on an HTTPS connection","U2FNotSupported")))})),{unsubscribe:function(){t=!0}}}}.call(this,n(30).Buffer)},1807:function(e,t,n){"use strict";e.exports=n(1808)},1808:function(e,t,n){"use strict";(function(t){e.exports=c;var r=n(1809),o="undefined"!==typeof navigator&&!!navigator.userAgent,a=o&&navigator.userAgent.match(/Safari\//)&&!navigator.userAgent.match(/Chrome\//),i=o&&navigator.userAgent.match(/Edge\/1[2345]/),s=null;function u(e){return s||(s=new e((function(e,t){function n(){e({u2f:null,native:!0})}return o?a?n():("undefined"!==typeof window.u2f&&"function"===typeof window.u2f.sign&&e({u2f:window.u2f,native:!0}),i||"http:"===location.protocol||"undefined"===typeof MessageChannel?n():void r.isSupported((function(t){t?e({u2f:r,native:!1}):n()}))):n()}))),s}function c(e){return{isSupported:l.bind(e),ensureSupport:g.bind(e),register:h.bind(e),sign:E.bind(e),ErrorCodes:c.ErrorCodes,ErrorNames:c.ErrorNames}}function d(e,t){var n=null!=t?t.errorCode:1,r=c.ErrorNames[""+n],o=new Error(e);return o.metaData={type:r,code:n},o}function p(e,t){var n={};return n.promise=new e((function(e,r){n.resolve=e,n.reject=r,t.then(e,r)})),n.promise.cancel=function(t,r){u(e).then((function(e){r&&!e.native&&e.u2f.disconnect(),n.reject(d(t,{errorCode:-1}))}))},n}function l(){return u(this).then((function(e){return!!e.u2f}))}function f(e){if(!e.u2f){if("http:"===location.protocol)throw new Error("U2F isn't supported over http, only https");throw new Error("U2F not supported")}}function g(){return u(this).then(f)}function h(e,t,n){var r=this;return Array.isArray(e)||(e=[e]),"number"===typeof t&&"undefined"===typeof n&&(n=t,t=null),t||(t=[]),p(r,u(r).then((function(o){f(o);var a=o.native,i=o.u2f;return new r((function(r,o){if(a){var s=e[0].appId;i.register(s,e,t,(function(e){e.errorCode?o(d("Registration failed",e)):(delete e.errorCode,r(e))}),n)}else i.register(e,t,(function(e,t){e?o(e):t.errorCode?o(d("Registration failed",t)):r(t)}),n)}))}))).promise}function E(e,t){var n=this;return Array.isArray(e)||(e=[e]),p(n,u(n).then((function(r){f(r);var o=r.native,a=r.u2f;return new n((function(n,r){if(o){var i=e[0].appId,s=e[0].challenge;a.sign(i,s,e,(function(e){e.errorCode?r(d("Sign failed",e)):(delete e.errorCode,n(e))}),t)}else a.sign(e,(function(e,t){e?r(e):t.errorCode?r(d("Sign failed",t)):n(t)}),t)}))}))).promise}function v(e){c[e]=function(){if(!t.Promise)throw new Error("The platform doesn't natively support promises");var n=[].slice.call(arguments);return c(t.Promise)[e].apply(null,n)}}c.ErrorCodes={CANCELLED:-1,OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},c.ErrorNames={"-1":"CANCELLED",0:"OK",1:"OTHER_ERROR",2:"BAD_REQUEST",3:"CONFIGURATION_UNSUPPORTED",4:"DEVICE_INELIGIBLE",5:"TIMEOUT"},v("isSupported"),v("ensureSupport"),v("register"),v("sign")}).call(this,n(42))},1809:function(e,t,n){"use strict";var r=r||{};e.exports=r,r.EXTENSION_ID="kmendfapggjehodndflmmgagdbamhnfd",r.MessageTypes={U2F_REGISTER_REQUEST:"u2f_register_request",U2F_SIGN_REQUEST:"u2f_sign_request",U2F_REGISTER_RESPONSE:"u2f_register_response",U2F_SIGN_RESPONSE:"u2f_sign_response"},r.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},r.Request,r.Response,r.Error,r.SignRequest,r.SignResponse,r.RegisterRequest,r.RegisterResponse,r.disconnect=function(){r.port_&&r.port_.port_&&(r.port_.port_.disconnect(),r.port_=null)},r.getMessagePort=function(e){if("undefined"!=typeof chrome&&chrome.runtime){var t={type:r.MessageTypes.U2F_SIGN_REQUEST,signRequests:[]};chrome.runtime.sendMessage(r.EXTENSION_ID,t,(function(){chrome.runtime.lastError?r.getIframePort_(e):r.getChromeRuntimePort_(e)}))}else r.getIframePort_(e)},r.getChromeRuntimePort_=function(e){var t=chrome.runtime.connect(r.EXTENSION_ID,{includeTlsChannelId:!0});setTimeout((function(){e(null,new r.WrappedChromeRuntimePort_(t))}),0)},r.WrappedChromeRuntimePort_=function(e){this.port_=e},r.WrappedChromeRuntimePort_.prototype.postMessage=function(e){this.port_.postMessage(e)},r.WrappedChromeRuntimePort_.prototype.addEventListener=function(e,t){var n=e.toLowerCase();"message"==n||"onmessage"==n?this.port_.onMessage.addListener((function(e){t({data:e})})):console.error("WrappedChromeRuntimePort only supports onMessage")},r.getIframePort_=function(e){var t="chrome-extension://"+r.EXTENSION_ID,n=document.createElement("iframe");n.src=t+"/u2f-comms.html",n.setAttribute("style","display:none"),document.body.appendChild(n);var o=!1,a=new MessageChannel;a.port1.addEventListener("message",(function t(n){"ready"==n.data?(a.port1.removeEventListener("message",t),o||(o=!0,e(null,a.port1))):console.error('First event on iframe port was not "ready"')})),a.port1.start(),n.addEventListener("load",(function(){n.contentWindow.postMessage("init",t,[a.port2])})),setTimeout((function(){o||(o=!0,e(new Error("IFrame extension not supported")))}),200)},r.EXTENSION_TIMEOUT_SEC=30,r.port_=null,r.waitingForPort_=[],r.reqCounter_=0,r.callbackMap_={},r.getPortSingleton_=function(e){r.port_?e(null,r.port_):(0==r.waitingForPort_.length&&r.getMessagePort((function(e,t){for(e||(r.port_=t,r.port_.addEventListener("message",r.responseHandler_));r.waitingForPort_.length;)r.waitingForPort_.shift()(e,t)})),r.waitingForPort_.push(e))},r.responseHandler_=function(e){var t=e.data,n=t.requestId;if(n&&r.callbackMap_[n]){var o=r.callbackMap_[n];delete r.callbackMap_[n],o(null,t.responseData)}else console.error("Unknown or missing requestId in response.")},r.isSupported=function(e){r.getPortSingleton_((function(t,n){e(!t)}))},r.sign=function(e,t,n){r.getPortSingleton_((function(o,a){if(o)return t(o);var i=++r.reqCounter_;r.callbackMap_[i]=t;var s={type:r.MessageTypes.U2F_SIGN_REQUEST,signRequests:e,timeoutSeconds:"undefined"!==typeof n?n:r.EXTENSION_TIMEOUT_SEC,requestId:i};a.postMessage(s)}))},r.register=function(e,t,n,o){r.getPortSingleton_((function(a,i){if(a)return n(a);var s=++r.reqCounter_;r.callbackMap_[s]=n;var u={type:r.MessageTypes.U2F_REGISTER_REQUEST,signRequests:t,registerRequests:e,timeoutSeconds:"undefined"!==typeof o?o:r.EXTENSION_TIMEOUT_SEC,requestId:s};i.postMessage(u)}))}},1810:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(694),o=n(2),a=n.n(o),i=n(45),s=n(6),u=n(7),c=n(63),d=n.n(c),p=n(605),l=function(){function t(){var n=this;Object(s.a)(this,t),this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new d.a,this.send=function(){var t=Object(i.a)(a.a.mark((function t(r,o,i,s){var u,c,d,l,f=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=f.length>4&&void 0!==f[4]?f[4]:e.alloc(0),c=f.length>5&&void 0!==f[5]?f[5]:[p.a.OK],!(u.length>=256)){t.next=4;break}throw new p.b("data.length exceed 256 bytes limit. Got: "+u.length,"DataLengthTooBig");case 4:return t.next=6,n.exchange(e.concat([e.from([r,o,i,s]),e.from([u.length]),u]));case 6:if(d=t.sent,l=d.readUInt16BE(d.length-2),c.some((function(e){return e===l}))){t.next=10;break}throw new p.d(l);case 10:return t.abrupt("return",d);case 11:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}(),this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=function(){var e=Object(i.a)(a.a.mark((function e(t){var r,o,i,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.exchangeBusyPromise){e.next=2;break}throw new p.c("An action was already pending on the Ledger device. Please deny or reconnect.");case 2:return o=new Promise((function(e){r=e})),n.exchangeBusyPromise=o,i=!1,s=setTimeout((function(){i=!0,n.emit("unresponsive")}),n.unresponsiveTimeout),e.prev=6,e.next=9,t();case 9:return u=e.sent,i&&n.emit("responsive"),e.abrupt("return",u);case 12:return e.prev=12,clearTimeout(s),r&&r(),n.exchangeBusyPromise=null,e.finish(12);case 17:case"end":return e.stop()}}),e,null,[[6,,12,17]])})));return function(t){return e.apply(this,arguments)}}(),this._appAPIlock=null}return Object(u.a)(t,[{key:"exchange",value:function(e){throw new Error("exchange not implemented")}},{key:"setScrambleKey",value:function(e){}},{key:"close",value:function(){return Promise.resolve()}},{key:"on",value:function(e,t){this._events.on(e,t)}},{key:"off",value:function(e,t){this._events.removeListener(e,t)}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this._events).emit.apply(t,[e].concat(r))}},{key:"setDebugMode",value:function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}},{key:"setExchangeTimeout",value:function(e){this.exchangeTimeout=e}},{key:"setExchangeUnresponsiveTimeout",value:function(e){this.unresponsiveTimeout=e}},{key:"decorateAppAPIMethods",value:function(e,t,n){var o,a=Object(r.a)(t);try{for(a.s();!(o=a.n()).done;){var i=o.value;e[i]=this.decorateAppAPIMethod(i,e[i],e,n)}}catch(s){a.e(s)}finally{a.f()}}},{key:"decorateAppAPIMethod",value:function(e,t,n,r){var o=this;return Object(i.a)(a.a.mark((function i(){var s,u,c,d,l=arguments;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(s=o._appAPIlock)){a.next=3;break}return a.abrupt("return",Promise.reject(new p.b("Ledger Device is busy (lock "+s+")","TransportLocked")));case 3:for(a.prev=3,o._appAPIlock=e,o.setScrambleKey(r),u=l.length,c=new Array(u),d=0;d<u;d++)c[d]=l[d];return a.next=9,t.apply(n,c);case 9:return a.abrupt("return",a.sent);case 10:return a.prev=10,o._appAPIlock=null,a.finish(10);case 13:case"end":return a.stop()}}),i,null,[[3,,10,13]])})))}}],[{key:"create",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,n=arguments.length>1?arguments[1]:void 0;return new Promise((function(r,o){var a=!1,i=e.listen({next:function(n){a=!0,i&&i.unsubscribe(),s&&clearTimeout(s),e.open(n.descriptor,t).then(r,o)},error:function(e){s&&clearTimeout(s),o(e)},complete:function(){s&&clearTimeout(s),a||o(new p.b(e.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),s=n?setTimeout((function(){i.unsubscribe(),o(new p.b(e.ErrorMessage_ListenTimeout,"ListenTimeout"))}),n):null}))}}]),t}();l.isSupported=void 0,l.list=void 0,l.listen=void 0,l.open=void 0,l.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",l.ErrorMessage_NoDeviceFound="No Ledger device found"}).call(this,n(30).Buffer)},1811:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=0,o=[],a=function(e,t,n){var a={type:e,id:String(++r),date:new Date};t&&(a.message=t),n&&(a.data=n),function(e){for(var t=0;t<o.length;t++)try{o[t](e)}catch(n){console.error(n)}}(a)};"undefined"!==typeof window&&(window.__ledgerLogsListen=function(e){return o.push(e),function(){var t=o.indexOf(e);-1!==t&&(o[t]=o[o.length-1],o.pop())}})},605:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return d}));var r={},o={},a=function(e,t){o[e]=t},i=function(e){var t=function(t,n){Object.assign(this,n),this.name=e,this.message=t||e,this.stack=(new Error).stack};return t.prototype=new Error,r[e]=t,t};i("AccountNameRequired"),i("AccountNotSupported"),i("AmountRequired"),i("BluetoothRequired"),i("BtcUnmatchedApp"),i("CantOpenDevice"),i("CashAddrNotSupported"),i("CurrencyNotSupported"),i("DeviceAppVerifyNotSupported"),i("DeviceGenuineSocketEarlyClose"),i("DeviceNotGenuine"),i("DeviceOnDashboardExpected"),i("DeviceOnDashboardUnexpected"),i("DeviceInOSUExpected"),i("DeviceHalted"),i("DeviceNameInvalid"),i("DeviceSocketFail"),i("DeviceSocketNoBulkStatus"),i("DisconnectedDevice"),i("DisconnectedDeviceDuringOperation"),i("EnpointConfig"),i("EthAppPleaseEnableContractData"),i("FeeEstimationFailed"),i("FirmwareNotRecognized"),i("HardResetFail"),i("InvalidXRPTag"),i("InvalidAddress"),i("InvalidAddressBecauseDestinationIsAlsoSource"),i("LatestMCUInstalledError"),i("UnknownMCU"),i("LedgerAPIError"),i("LedgerAPIErrorWithMessage"),i("LedgerAPINotAvailable"),i("ManagerAppAlreadyInstalled"),i("ManagerAppRelyOnBTC"),i("ManagerAppDepInstallRequired"),i("ManagerAppDepUninstallRequired"),i("ManagerDeviceLocked"),i("ManagerFirmwareNotEnoughSpace"),i("ManagerNotEnoughSpace"),i("ManagerUninstallBTCDep"),i("NetworkDown"),i("NoAddressesFound"),i("NotEnoughBalance"),i("NotEnoughBalanceToDelegate"),i("NotEnoughBalanceInParentAccount"),i("NotEnoughSpendableBalance"),i("NotEnoughBalanceBecauseDestinationNotCreated"),i("NoAccessToCamera"),i("NotEnoughGas"),i("NotSupportedLegacyAddress"),i("GasLessThanEstimate"),i("PasswordsDontMatch"),i("PasswordIncorrect"),i("RecommendSubAccountsToEmpty"),i("RecommendUndelegation"),i("TimeoutTagged"),i("UnexpectedBootloader"),i("MCUNotGenuineToDashboard"),i("RecipientRequired"),i("UnavailableTezosOriginatedAccountReceive"),i("UnavailableTezosOriginatedAccountSend"),i("UpdateFetchFileFail"),i("UpdateIncorrectHash"),i("UpdateIncorrectSig"),i("UpdateYourApp"),i("UserRefusedDeviceNameChange"),i("UserRefusedAddress"),i("UserRefusedFirmwareUpdate"),i("UserRefusedAllowManager"),i("UserRefusedOnDevice"),i("TransportOpenUserCancelled"),i("TransportInterfaceNotAvailable");var s=i("TransportRaceCondition");i("TransportWebUSBGestureRequired"),i("DeviceShouldStayInApp"),i("WebsocketConnectionError"),i("WebsocketConnectionFailed"),i("WrongDeviceForAccount"),i("WrongAppForCurrency"),i("ETHAddressNonEIP"),i("CantScanQRCode"),i("FeeNotLoaded"),i("FeeRequired"),i("FeeTooHigh"),i("SyncError"),i("PairingFailed"),i("GenuineCheckFailed"),i("LedgerAPI4xx"),i("LedgerAPI5xx"),i("FirmwareOrAppUpdateRequired"),i("NoDBPathGiven"),i("DBWrongPassword"),i("DBNotReset");function u(e,t){this.name="TransportError",this.message=e,this.stack=(new Error).stack,this.id=t}u.prototype=new Error,a("TransportError",(function(e){return new u(e.message,e.id)}));var c={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function d(e){this.name="TransportStatusError";var t=Object.keys(c).find((function(t){return c[t]===e}))||"UNKNOWN_ERROR",n=function(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}(e)||t,r=e.toString(16);this.message="Ledger device: "+n+" (0x"+r+")",this.stack=(new Error).stack,this.statusCode=e,this.statusText=t}d.prototype=new Error,a("TransportStatusError",(function(e){return new d(e.statusCode)}))},694:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(99);function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}}}]);
//# sourceMappingURL=46.4f528044.chunk.js.map